package com.example.finalproject_sudokugame;

import java.util.Random;

public class SudokuPuzzlePool {

    public static class PuzzlePair {
        public final int[][] puzzle;
        public final int[][] solution;

        public PuzzlePair(int[][] puzzle, int[][] solution) {
            this.puzzle = puzzle;
            this.solution = solution;
        }
    }

    private static final Random random = new Random();

    private static final int[][][] SOLUTIONS = {
        { // Solution 0
            {5,3,4,6,7,8,9,1,2},
            {6,7,2,1,9,5,3,4,8},
            {1,9,8,3,4,2,5,6,7},
            {8,5,9,7,6,1,4,2,3},
            {4,2,6,8,5,3,7,9,1},
            {7,1,3,9,2,4,8,5,6},
            {9,6,1,5,3,7,2,8,4},
            {2,8,7,4,1,9,6,3,5},
            {3,4,5,2,8,6,1,7,9}
        },
        { // Solution 1
            {1,2,3,4,5,6,7,8,9},
            {4,5,6,7,8,9,1,2,3},
            {7,8,9,1,2,3,4,5,6},
            {2,1,4,3,6,5,8,9,7},
            {3,6,5,8,9,7,2,1,4},
            {8,9,7,2,1,4,3,6,5},
            {5,3,1,6,4,2,9,7,8},
            {6,4,2,9,7,8,5,3,1},
            {9,7,8,5,3,1,6,4,2}
        },
        { // Solution 2
            {3,1,6,5,7,8,4,9,2},
            {5,2,9,1,3,4,7,6,8},
            {4,8,7,6,2,9,5,3,1},
            {2,6,3,4,1,5,9,8,7},
            {9,7,4,8,6,3,1,2,5},
            {8,5,1,7,9,2,6,4,3},
            {1,3,8,9,4,7,2,5,6},
            {6,9,2,3,5,1,8,7,4},
            {7,4,5,2,8,6,3,1,9}
        },
        { // Solution 3
            {8,2,7,1,5,4,3,9,6},
            {9,6,5,3,2,7,1,4,8},
            {3,4,1,6,8,9,7,5,2},
            {5,9,3,4,6,8,2,7,1},
            {4,7,2,5,1,3,6,8,9},
            {6,1,8,9,7,2,4,3,5},
            {7,8,6,2,3,5,9,1,4},
            {1,5,4,7,9,6,8,2,3},
            {2,3,9,8,4,1,5,6,7}
        },
        { // Solution 4
            {4,8,3,9,2,1,6,5,7},
            {9,6,7,3,4,5,8,2,1},
            {2,5,1,8,7,6,4,9,3},
            {5,4,8,1,3,2,9,7,6},
            {7,2,9,5,6,4,1,3,8},
            {1,3,6,7,9,8,2,4,5},
            {3,7,2,6,8,9,5,1,4},
            {8,1,4,2,5,3,7,6,9},
            {6,9,5,4,1,7,3,8,2}
        }
    };

    // ═══════════════════════════════════════
    // EASY PUZZLES — 20 empty cells each
    // ═══════════════════════════════════════
    private static final int[][][] EASY_PUZZLES = {
        { // Puzzle 0 (from Solution 0)
            {5,3,0,6,7,8,9,1,2},
            {6,7,2,1,9,0,3,4,8},
            {1,0,8,3,4,2,5,6,7},
            {8,5,9,0,6,1,4,2,3},
            {4,2,6,8,0,3,7,9,1},
            {7,1,0,9,2,4,8,5,6},
            {9,6,1,5,3,7,0,8,4},
            {2,0,7,4,1,9,6,3,5},
            {3,4,5,2,8,0,1,0,0}
        },
        { // Puzzle 2 (from Solution 1)
            {1,0,3,4,5,6,7,8,9},
            {4,5,6,7,0,9,1,2,3},
            {7,8,9,1,2,0,4,5,6},
            {2,1,0,3,6,5,8,9,7},
            {3,6,5,8,9,7,0,1,4},
            {8,9,7,0,1,4,3,6,5},
            {5,3,1,6,4,2,9,0,8},
            {6,0,2,9,7,8,5,3,1},
            {0,7,8,5,3,1,6,4,0}
        },
        { // Puzzle 4 (from Solution 2)
            {3,1,6,5,0,8,4,9,2},
            {5,2,0,1,3,4,7,6,8},
            {4,8,7,6,2,9,0,3,1},
            {2,0,3,4,1,5,9,8,7},
            {9,7,4,8,6,0,1,2,5},
            {8,5,1,7,9,2,6,0,3},
            {1,3,8,0,4,7,2,5,6},
            {6,9,2,3,5,1,8,7,0},
            {0,4,5,2,8,6,3,1,9}
        },
        { // Puzzle 6 (from Solution 3)
            {8,2,7,1,5,0,3,9,6},
            {9,0,5,3,2,7,1,4,8},
            {3,4,1,6,8,9,0,5,2},
            {5,9,0,4,6,8,2,7,1},
            {4,7,2,5,0,3,6,8,9},
            {6,1,8,9,7,2,4,0,5},
            {7,8,6,0,3,5,9,1,4},
            {1,5,4,7,9,6,8,2,0},
            {0,3,9,8,4,1,5,6,7}
        },
        { // Puzzle 8 (from Solution 4)
            {4,0,3,9,2,1,6,5,7},
            {9,6,7,3,0,5,8,2,1},
            {2,5,1,8,7,6,0,9,3},
            {5,4,0,1,3,2,9,7,6},
            {7,2,9,5,6,4,1,0,8},
            {1,3,6,0,9,8,2,4,5},
            {3,7,2,6,8,9,5,1,0},
            {0,1,4,2,5,3,7,6,9},
            {6,9,5,4,1,0,3,8,2}
        }
    };

    private static final int[] PUZZLE_TO_SOLUTION = {0, 1, 2, 3, 4};

    // ═══════════════════════════════════════
    // MEDIUM PUZZLES — 40 empty cells each
    // ═══════════════════════════════════════
    private static final int[][][] MEDIUM_PUZZLES = {
        { // From Solution 0
            {5,0,0,6,0,8,0,0,2},
            {0,7,0,0,9,0,3,0,0},
            {0,0,8,0,0,2,0,6,0},
            {8,0,0,0,6,0,0,2,0},
            {0,2,0,8,0,0,7,0,0},
            {0,0,3,0,0,4,0,0,6},
            {9,0,0,5,0,0,0,8,0},
            {0,8,0,0,1,0,6,0,0},
            {0,0,5,0,0,6,0,0,9}
        },
        { // From Solution 1
            {0,2,0,0,5,0,7,0,0},
            {4,0,0,7,0,0,0,2,0},
            {0,0,9,0,0,3,0,0,6},
            {0,1,0,0,6,0,8,0,0},
            {3,0,0,8,0,0,0,1,0},
            {0,0,7,0,0,4,0,0,5},
            {0,3,0,0,4,0,9,0,0},
            {6,0,0,9,0,0,0,3,0},
            {0,0,8,0,0,1,0,0,2}
        },
        { // From Solution 2
            {0,1,0,0,7,0,4,0,0},
            {5,0,0,1,0,0,0,6,0},
            {0,0,7,0,0,9,0,0,1},
            {0,6,0,0,1,0,9,0,0},
            {9,0,0,8,0,0,0,2,0},
            {0,0,1,0,0,2,0,0,3},
            {0,3,0,0,4,0,2,0,0},
            {6,0,0,3,0,0,0,7,0},
            {0,0,5,0,0,6,0,0,9}
        },
        { // From Solution 3
            {0,2,0,0,5,0,3,0,0},
            {9,0,0,3,0,0,0,4,0},
            {0,0,1,0,0,9,0,0,2},
            {0,9,0,0,6,0,2,0,0},
            {4,0,0,5,0,0,0,8,0},
            {0,0,8,0,0,2,0,0,5},
            {0,8,0,0,3,0,9,0,0},
            {1,0,0,7,0,0,0,2,0},
            {0,0,9,0,0,1,0,0,7}
        },
        { // From Solution 4
            {0,8,0,0,2,0,6,0,0},
            {9,0,0,3,0,0,0,2,0},
            {0,0,1,0,0,6,0,0,3},
            {0,4,0,0,3,0,9,0,0},
            {7,0,0,5,0,0,0,3,0},
            {0,0,6,0,0,8,0,0,5},
            {0,7,0,0,8,0,5,0,0},
            {8,0,0,2,0,0,0,6,0},
            {0,0,5,0,0,7,0,0,2}
        }
    };

    // ═══════════════════════════════════════
    // HARD PUZZLES — 50 empty cells each
    // ═══════════════════════════════════════
    private static final int[][][] HARD_PUZZLES = {
        { // From Solution 0
            {0,0,0,6,0,0,9,0,0},
            {0,7,0,0,9,0,0,0,8},
            {0,0,8,0,0,2,0,6,0},
            {8,0,0,0,6,0,0,0,3},
            {0,0,6,0,0,0,7,0,0},
            {7,0,0,0,2,0,0,0,6},
            {0,6,0,5,0,0,2,0,0},
            {2,0,0,0,1,0,0,3,0},
            {0,0,5,0,0,6,0,0,0}
        },
        { // From Solution 1
            {0,0,3,0,0,6,0,0,9},
            {0,5,0,0,8,0,0,2,0},
            {7,0,0,1,0,0,4,0,0},
            {0,0,4,0,0,5,0,0,7},
            {0,6,0,0,9,0,0,1,0},
            {8,0,0,2,0,0,3,0,0},
            {0,0,1,0,0,2,0,0,8},
            {0,4,0,0,7,0,0,3,0},
            {9,0,0,5,0,0,6,0,0}
        },
        { // From Solution 2
            {0,0,6,0,0,8,0,0,2},
            {0,2,0,0,3,0,0,6,0},
            {4,0,0,6,0,0,5,0,0},
            {0,0,3,0,0,5,0,0,7},
            {0,7,0,0,6,0,0,2,0},
            {8,0,0,7,0,0,6,0,0},
            {0,0,8,0,0,7,0,0,6},
            {0,9,0,0,5,0,0,7,0},
            {7,0,0,2,0,0,3,0,0}
        },
        { // From Solution 3
            {0,0,7,0,0,4,0,0,6},
            {0,6,0,0,2,0,0,4,0},
            {3,0,0,6,0,0,7,0,0},
            {0,0,3,0,0,8,0,0,1},
            {0,7,0,0,1,0,0,8,0},
            {6,0,0,9,0,0,4,0,0},
            {0,0,6,0,0,5,0,0,4},
            {0,5,0,0,9,0,0,2,0},
            {2,0,0,8,0,0,5,0,0}
        },
        { // From Solution 4
            {0,0,3,0,0,1,0,0,7},
            {0,6,0,0,4,0,0,2,0},
            {2,0,0,8,0,0,4,0,0},
            {0,0,8,0,0,2,0,0,6},
            {0,2,0,0,6,0,0,3,0},
            {1,0,0,7,0,0,2,0,0},
            {0,0,2,0,0,9,0,0,4},
            {0,1,0,0,5,0,0,6,0},
            {6,0,0,4,0,0,3,0,0}
        }
    };

    public static PuzzlePair getRandomPuzzle(String difficulty) {
        int[][][] puzzles;

        if (difficulty.equalsIgnoreCase("easy")) {
            puzzles = EASY_PUZZLES;
        } else if (difficulty.equalsIgnoreCase("medium")) {
            puzzles = MEDIUM_PUZZLES;
        } else {
            puzzles = HARD_PUZZLES;
        }

        int index = random.nextInt(puzzles.length);
        int solIndex = PUZZLE_TO_SOLUTION[index];

        int[][] puzzleCopy = new int[9][9];
        int[][] solutionCopy = new int[9][9];
        for (int i = 0; i < 9; i++) {
            System.arraycopy(puzzles[index][i], 0, puzzleCopy[i], 0, 9);
            System.arraycopy(SOLUTIONS[solIndex][i], 0, solutionCopy[i], 0, 9);
        }

        return new PuzzlePair(puzzleCopy, solutionCopy);
    }
}
